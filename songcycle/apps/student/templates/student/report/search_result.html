{% load lookup %}

<input id="result-list-count" type="hidden" value={{ result_list_count }}>
<input id="current-page" type="hidden" value={{ current_page }}>
<input id="offset" type="hidden" value={{ offset }}>
<a id="paging-url" type="hidden" href="{% url 'report_paging' %}"></a>

<div class="table-responsive report-table-area">
    <table class="table student-table">
        <thead>
            <tr>
                <th class="target-year">年度</th>
                <th class="auther-user">作者</th>
                <th class="file-name">レポート名</th>
                <th class="down-load-count">DL数</th>
                <th class="request-download"></th>
                {% if authority_name == "admin" %}
                <th class="delete-report"></th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for result in result_list %}
            <tr>
                <td class="target-year">{{result.target_year}}</td>
                <td class="auther-user">{{ result.full_name }}</td>
                <td class="file-name">{{result.file_name}}</td>
                <td class="down-load-count">{{ result.download_count }}</td>
                <td class="request-download">
                    <button id="report-download" class="btn button-royal-blue btn-sm btn-block" type="button">
                        ダウンロード
                        <a name="report-download-link" type="hidden" href="{% url 'report_download' %}?report_id={{result.report_id}}"></a>
                    </button>
                    
                </td>
                {% if authority_name == "admin" %}
                <td class="delete-report">
                    <button id="report-delete" class="btn button-dark-blue btn-sm btn-block" type="button">
                        Delete
                        <a id="{{result.report_id}}" name="report-delete-link" type="hidden" href="{% url 'report_delete' %}"></a>
                    </button>
                </td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<nav class="report-pagination">
    <ul id="report-pagination-area" class="pagination justify-content-end"></ul>
</nav>